document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("new-task-input"),t=document.getElementById("add-task-btn"),n=document.getElementById("task-list");function a(){let e=[];n.querySelectorAll(".task-text").forEach(t=>{t.closest("li").querySelector(".edit-input")||e.push(t.textContent)}),localStorage.setItem("tasks",JSON.stringify(e))}function l(e){let t=document.createElement("li"),l=document.createElement("span");l.className="task-text",l.textContent=e;let r=document.createElement("div");r.className="task-actions";let d=document.createElement("button");d.textContent="Edit",d.className="edit-btn",d.addEventListener("click",()=>(function(e,t){let l=t.textContent,r=document.createElement("input");r.type="text",r.className="edit-input",r.value=l;let d=document.createElement("button");d.textContent="Save",d.className="save-btn";let o=e.querySelector(".task-actions"),s=o.querySelector(".edit-btn"),i=o.querySelector(".delete-btn");o.removeChild(s),o.removeChild(i),e.replaceChild(r,t),o.appendChild(d),r.focus(),d.addEventListener("click",()=>{let l=r.value.trim();if(""===l){alert("Edited task cannot be empty!"),r.focus();return}if(Array.from(n.querySelectorAll(".task-text")).filter(e=>e!==t).map(e=>e.textContent.toLowerCase()).includes(l.toLowerCase())){alert("This task already exists!"),r.focus();return}t.textContent=l,e.replaceChild(t,r),o.removeChild(d),o.appendChild(s),o.appendChild(i),a()}),r.addEventListener("keypress",e=>{"Enter"===e.key&&d.click()})})(t,l));let o=document.createElement("button");o.textContent="Delete",o.className="delete-btn",o.addEventListener("click",()=>{var e;return e=t,void(confirm("Are you sure you want to delete this task?")&&(e.remove(),a()))}),r.appendChild(d),r.appendChild(o),t.appendChild(l),t.appendChild(r),n.appendChild(t)}function r(){let t=e.value.trim();return""===t?void alert("Task cannot be empty!"):Array.from(n.querySelectorAll(".task-text")).map(e=>e.textContent.toLowerCase()).includes(t.toLowerCase())?void alert("This task already exists!"):void(l(t),a(),e.value="")}t.addEventListener("click",r),e.addEventListener("keypress",e=>{"Enter"===e.key&&r()}),(JSON.parse(localStorage.getItem("tasks"))||[]).forEach(e=>l(e))});
//# sourceMappingURL=step8up-week4-todo-list.b3f3e705.js.map
