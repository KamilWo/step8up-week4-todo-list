document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("new-task-input"),t=document.getElementById("add-task-btn"),n=document.getElementById("task-list");function l(){let e=[];n.querySelectorAll(".task-text").forEach(t=>{t.closest("li").querySelector(".edit-input")||e.push(t.textContent)}),localStorage.setItem("tasks",JSON.stringify(e))}function r(e){let t=`
      <li>
        <span class="task-text">${e}</span>
        <div class="task-actions">
          <button class="edit-btn">Edit</button>
          <button class="delete-btn">Delete</button>
        </div>
      </li>
    `,r=document.createElement("div");r.innerHTML=t;let a=r.firstElementChild;a.querySelector(".edit-btn").addEventListener("click",()=>(function(e,t){let r=t.textContent,a=`<input type="text" class="edit-input" value="${r}">`,i=document.createElement("div");i.innerHTML=a;let s=i.firstElementChild;i.innerHTML='<button class="save-btn">Save</button>';let o=i.firstElementChild,d=e.querySelector(".task-actions"),c=d.querySelector(".edit-btn"),u=d.querySelector(".delete-btn");d.removeChild(c),d.removeChild(u),e.replaceChild(s,t),d.appendChild(o),s.focus(),o.addEventListener("click",()=>{let r=s.value.trim();if(""===r){alert("Edited task cannot be empty!"),s.focus();return}if(Array.from(n.querySelectorAll(".task-text")).filter(e=>e!==t).map(e=>e.textContent.toLowerCase()).includes(r.toLowerCase())){alert("This task already exists!"),s.focus();return}t.textContent=r,e.replaceChild(t,s),d.removeChild(o),d.appendChild(c),d.appendChild(u),l()}),s.addEventListener("keypress",e=>{"Enter"===e.key&&o.click()})})(a,a.querySelector(".task-text"))),a.querySelector(".delete-btn").addEventListener("click",()=>{var e;return e=a,void(confirm("Are you sure you want to delete this task?")&&(e.remove(),l()))}),n.appendChild(a)}function a(){let t=e.value.trim();return""===t?void alert("Task cannot be empty!"):Array.from(n.querySelectorAll(".task-text")).map(e=>e.textContent.toLowerCase()).includes(t.toLowerCase())?void alert("This task already exists!"):void(r(t),l(),e.value="")}t.addEventListener("click",a),e.addEventListener("keypress",e=>{"Enter"===e.key&&a()}),(JSON.parse(localStorage.getItem("tasks"))||[]).forEach(e=>r(e))});
//# sourceMappingURL=step8up-week4-todo-list.28a01b0b.js.map
