document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("new-task-input"),t=document.getElementById("add-task-btn"),n=document.getElementById("task-list"),l=document.getElementById("todo-list-name-input"),r=document.getElementById("list-title"),a=document.getElementById("clear-list-btn");function i(){let e=[];n.querySelectorAll(".task-text").forEach(t=>{t.closest("li").querySelector(".edit-input")||e.push(t.textContent)}),localStorage.setItem("tasks",JSON.stringify(e))}function o(e){let t=`
      <li>
        <span class="task-text">${e}</span>
        <div class="task-actions">
          <button class="edit-btn">Edit</button>
          <button class="delete-btn">Delete</button>
        </div>
      </li>
    `,l=document.createElement("div");l.innerHTML=t;let r=l.firstElementChild;r.querySelector(".edit-btn").addEventListener("click",()=>(function(e,t){let l=t.textContent,r=`<input type="text" class="edit-input" value="${l}">`,a=document.createElement("div");a.innerHTML=r;let o=a.firstElementChild;a.innerHTML='<button class="save-btn">Save</button>';let s=a.firstElementChild,d=e.querySelector(".task-actions"),c=d.querySelector(".edit-btn"),u=d.querySelector(".delete-btn");d.removeChild(c),d.removeChild(u),e.replaceChild(o,t),d.appendChild(s),o.focus(),s.addEventListener("click",()=>{let l=o.value.trim();if(""===l){alert("Edited task cannot be empty!"),o.focus();return}if(Array.from(n.querySelectorAll(".task-text")).filter(e=>e!==t).map(e=>e.textContent.toLowerCase()).includes(l.toLowerCase())){alert("This task already exists!"),o.focus();return}t.textContent=l,e.replaceChild(t,o),d.removeChild(s),d.appendChild(c),d.appendChild(u),i()}),o.addEventListener("keypress",e=>{"Enter"===e.key&&s.click()})})(r,r.querySelector(".task-text"))),r.querySelector(".delete-btn").addEventListener("click",()=>{var e;return e=r,void(confirm("Are you sure you want to delete this task?")&&(e.remove(),i()))}),n.appendChild(r)}function s(){let t=e.value.trim();return""===t?void alert("Task cannot be empty!"):Array.from(n.querySelectorAll(".task-text")).map(e=>e.textContent.toLowerCase()).includes(t.toLowerCase())?void alert("This task already exists!"):void(o(t),i(),e.value="")}t.addEventListener("click",s),l.addEventListener("input",function(e){r.textContent=e.target.value}),e.addEventListener("keypress",e=>{"Enter"===e.key&&s()}),a.addEventListener("click",function(){confirm("Are you sure you want to clear all tasks? This action cannot be undone.")&&(n.innerHTML="",i())}),(JSON.parse(localStorage.getItem("tasks"))||[]).forEach(e=>o(e))});
//# sourceMappingURL=step8up-week4-todo-list.8a5a2888.js.map
